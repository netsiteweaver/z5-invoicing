/* stylelint-disable at-rule-no-unknown */
@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    .btn { @apply inline-flex justify-center items-center h-10 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 whitespace-nowrap; }
    .btn-secondary { @apply bg-gray-700 hover:bg-gray-800 focus:ring-gray-600; }
    .btn-primary { @apply bg-blue-600 hover:bg-blue-700 focus:ring-blue-500; }
    .btn-success { @apply bg-emerald-600 hover:bg-emerald-700 focus:ring-emerald-500; }
    .btn-warning { @apply bg-amber-600 hover:bg-amber-700 focus:ring-amber-500; }
    .btn-danger { @apply bg-rose-600 hover:bg-rose-700 focus:ring-rose-500; }
    .btn-icon { @apply -ml-1 mr-2 text-base leading-none; }

    .badge { @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium; }
    .badge-gray { @apply bg-gray-100 text-gray-800; }
    .badge-blue { @apply bg-blue-100 text-blue-800; }
    .badge-green { @apply bg-green-100 text-green-800; }
    .badge-yellow { @apply bg-yellow-100 text-yellow-800; }
    .badge-red { @apply bg-red-100 text-red-800; }

    .card { @apply bg-white shadow rounded-lg; }
    .card-header { @apply px-6 py-4 border-b border-gray-200; }
    .card-body { @apply p-6; }
    .card-title { @apply text-lg font-medium text-gray-900; }

    /* Backwards-compatible button aliases used in existing views */
    .btn-create { @apply btn bg-emerald-600 hover:bg-emerald-700 focus:ring-emerald-500; }
    .btn-view { @apply btn bg-sky-600 hover:bg-sky-700 focus:ring-sky-500; }
    .btn-edit { @apply btn bg-amber-600 hover:bg-amber-700 focus:ring-amber-500; }
    .btn-delete { @apply btn bg-rose-600 hover:bg-rose-700 focus:ring-rose-500; }

    /* Reports: 4-up summary grid */
    .report-cards { @apply grid grid-cols-4 gap-6; }

    /* Sidebar scrolling fix */
    .sidebar {
        height: 100vh;
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }
    
    .sidebar nav {
        flex: 1;
        overflow-y: scroll;
        -webkit-overflow-scrolling: touch; /* Smooth scrolling on iOS */
        min-height: 0; /* Important for flex child scrolling */
        padding-top: 0.5rem; /* Add some top spacing */
    }
    
    /* Mobile navigation enhancements */
    @media (max-width: 1023px) {
        /* Ensure active sections are visible on mobile */
        .sidebar [x-data*="Open: true"] [x-show] {
            display: block !important;
        }
        
        /* Force active section buttons to show expanded state */
        .sidebar [x-data*="Open: true"] button i.fa-chevron-down {
            transform: rotate(180deg);
        }
    }

    /* Print helpers */
    @media print {
        /* Force report cards into 4 columns on print */
        .report-cards { display: grid !important; grid-template-columns: repeat(4, minmax(0, 1fr)) !important; gap: 1rem !important; }
        .report-cards > * { break-inside: avoid; }
        .print\:hidden, .no-print { display: none !important; }
        .print\:block { display: block !important; }
        .app-container { padding-left: 0 !important; }
        /* Remove backgrounds, gradients, and shadows in print */
        * { background: transparent !important; box-shadow: none !important; }
        html, body { background: #fff !important; }
        /* Common Tailwind background utilities to force white on paper */
        /* .bg-white, .bg-gray-50, .bg-gray-100, .bg-gray-200, .bg-gray-900,
        .bg-blue-50, .bg-blue-100, .bg-blue-500, .bg-blue-600,
        .bg-emerald-600, .bg-amber-600, .bg-rose-600,
        .bg-red-50, .bg-green-50, .bg-yellow-50 { background-color: #fff !important; } */
        /* Remove background images/gradients */
        [class*="bg-gradient"], [style*="background"], [style*="background-image"] { background: #fff !important; }
    }
}

@layer base {
    h1 { @apply text-2xl font-bold text-gray-900; }
    h2 { @apply text-xl font-semibold text-gray-900; }
    h3 { @apply text-lg font-medium text-gray-900; }
    p { @apply text-gray-700; }
    a { @apply text-blue-600 hover:text-blue-800; }
}
/* stylelint-enable at-rule-no-unknown */